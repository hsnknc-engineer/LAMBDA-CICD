 # AWS Lambda Deployment with GitHub Actions (CI/CD Pipeline)

This project demonstrates the deployment of an AWS Lambda function using GitHub Actions as part of a CI/CD workflow. The setup includes the use of GitHub Secrets for secure credential management and automates key tasks such as installing dependencies, packaging the Lambda function, and deploying it to AWS.

<br>

## Architecture Overview
The architecture for this workflow can be visualized in the following diagram:

![image](https://github.com/user-attachments/assets/a3f2c6c4-98e8-4277-8bdf-24565db1b994)

<br>

## Components:
1. GitHub Actions Workflow:

  - GitHub Actions is triggered when code is pushed to the main branch in the lambda/ folder.
  - The workflow automates setting up the environment, installing dependencies, and deploying the Lambda function to AWS.

<br>

2. GitHub Secrets:

  - GitHub Secrets are used to store AWS credentials securely.
  - These secrets are injected into the workflow for use during deployment.

<br>

3. AWS Lambda:

  - The Lambda function is a simple Python function (lambda_function.py) that returns a JSON message.
  - AWS Lambda updates its function code with the new package generated by the workflow.

<br>

4. AWS Console:

  - Initial setup of the Lambda function is done via the AWS console.
  - Once set up, further deployments are automated through the GitHub Actions workflow.

<br>

## Lambda Function
The Lambda function (lambda_function.py) returns a simple message:

```
import json

def lambda_handler(event, context):
    return {
        'statusCode': 200,
        'body': json.dumps('Hello from our CICD GitHub Actions workflow!')
    }
```

<br>

## GitHub Actions Workflow
The GitHub Actions workflow (lambda.yml) automates the deployment process. It includes the following steps:

1. Trigger: The workflow is triggered by a push event to the main branch, but only if the changes occur in the lambda/ directory. This is specified by the following condition in the on: section of the workflow file:

```
on:
  push:
    branches:
      - main
    paths:
      - 'lambda/**'
```

This ensures that deployments are only triggered when files inside the lambda/ folder (where the Lambda function code is stored) are modified and pushed to the main branch. This helps avoid unnecessary deployments when unrelated parts of the repository are updated.

<br>

2. Setup Python: The Python environment is set up to use version 3.12.

<br>

3. Install Dependencies: All required dependencies from requirements.txt are installed.

<br>

4. AWS Credentials Configuration: AWS credentials are configured using GitHub Secrets.

<br>

5. Package Lambda Function: The Lambda function is packaged into a .zip file and deployed to AWS.

<br>

## Usage
<br>

### Prerequisites:
  - AWS Lambda function already created in the AWS Console (one-time setup).
    
  - AWS credentials stored as GitHub Secrets (AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY).

<br>

### Steps to Deploy:
1. Push Code:

  - Make changes to the code inside the lambda/ folder.

  - Push changes to the main branch.

**Important: The workflow will only be triggered if changes are made to files inside the lambda/ directory as specified in the workflow file.**

<br>

2. GitHub Actions Workflow:

  - The GitHub Actions workflow is automatically triggered.
  
  - It sets up the environment, installs dependencies, and deploys the Lambda function.

<br>

3. Check AWS Lambda:

  - Verify that the Lambda function has been updated in the AWS console.
  
**To clean up or modify the workflow, you can make changes to the lambda.yml file or the lambda_function.py and trigger new deployments via GitHub Actions.**

<br>

## Conclusion

This project showcases how to integrate GitHub Actions with AWS Lambda to automate the deployment process. 
By using CI/CD pipelines, we ensure that our AWS Lambda function is always up to date with the latest code pushed to the repository. 
This removes the need for manual updates via the AWS Console and guarantees consistency across environments.






